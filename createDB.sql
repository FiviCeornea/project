SET SERVEROUTPUT ON
/
DROP TABLE USERS_JUICY

--SVN TEST

/
CREATE TABLE USERS_JUICY
 (NUME VARCHAR2(20),
  CNP NUMBER(13) PRIMARY KEY,
  ADRESA VARCHAR2(32),
  TELEFON NUMBER(10),
  PAROLA VARCHAR(20))
/

DROP TABLE PRODUSE_PROJ
/
CREATE TABLE PRODUSE_PROJ
(NUME VARCHAR(20),
ID_PRODUS NUMBER(8) PRIMARY KEY,
PRET NUMBER(3),
ID_FURNIZOR NUMBER(15),
CATEGORIE VARCHAR(20),
IMAGINE VARCHAR2(50),
STOC NUMBER)
/

DROP TABLE FURNIZOR
/
CREATE TABLE FURNIZOR
(NUME VARCHAR2(20),
CUI NUMBER(15) PRIMARY KEY,
ADRESA VARCHAR2(32),
TELEFON NUMBER(10))
/

DROP TABLE FACTURI
/
CREATE TABLE FACTURI
(NR_FACTURA NUMBER(10) PRIMARY KEY,
USER_JUICY NUMBER(13),
SUMA NUMBER(8),
DATA_FACTURA DATE)
/

DROP TABLE PRODUSE_FACTURA_JUICY
/
CREATE TABLE PRODUSE_FACTURA_JUICY
(ID_PRODUS NUMBER(8),
NR_FACTURA NUMBER(10),
CANTITATE NUMBER(5))
/

-- populare angajati

INSERT INTO USERS_JUICY VALUES('MariaRusu', 2887766554433, 'LA BUNICA LA TARA', 0756553430, 'parola123')
/

INSERT INTO USERS_JUICY VALUES('username1', 2097766554433, 'IASINGTON', 0723553430,'123456abc')
/

INSERT INTO USERS_JUICY VALUES('username2', 2881236554433, 'VASLUI', 07565672330,'abc123')
/

INSERT INTO USERS_JUICY VALUES('username3', 1347766554433, 'LANGA IASI', 0756100430,'asdfghjkl')
/

INSERT INTO USERS_JUICY VALUES('username4', 1117766554433, 'IASI', 0750000430,'oParola')
/

-- populare funrizori

INSERT INTO FURNIZOR VALUES('SANTAL', 12345678922, 'CONSTANTA', 0756030430)
/

INSERT INTO FURNIZOR VALUES('COCA-COLA', 3365458974, 'DOROHOI', 0751234430)
/

INSERT INTO FURNIZOR VALUES('JuicyPeaches', 12000078922, 'IASI', 0756501422)
/

INSERT INTO FURNIZOR VALUES('PEPSICO', 10123567922, 'BACAU', 0756553430)
/

-- populare produse

INSERT INTO PRODUSE_PROJ VALUES('SMOOTHIE PIERSICUTE', 601,  2, 12000078922,'SMOOTHIES','SMITH.jpg',345)
/

INSERT INTO PRODUSE_PROJ VALUES('FRESH PIERSICUTE', 602, 3, 12000078922,'SMOOTHIES','orange.jpg',3456)
/

INSERT INTO PRODUSE_PROJ VALUES('SMOOTHIE CAISE', 603, 3, 12000078922,'SMOOTHIES','apple_banana.jpg',654)
/

INSERT INTO PRODUSE_PROJ VALUES('SMOOTHIE MERISOARE', 604, 1.5, 12000078922, 'SMOOTHIES','apple.jpg',123)
/

INSERT INTO PRODUSE_PROJ VALUES('LIMONADA', 605, 1, 12000078922,'SUCURI NATURALE','cherry.jpg',345)
/

INSERT INTO PRODUSE_PROJ VALUES('COCA-COLA', 606, 5, 3365458974,'SUCURI ACIDULATE','berry.jpg',6543)
/

INSERT INTO PRODUSE_PROJ VALUES('COCA-COLA 1,5', 607, 3, 3365458974,'SUCURI ACIDULATE','apple.jpg',654)
/

INSERT INTO PRODUSE_PROJ VALUES('FANTA', 608, 5, 3365458974,'SUCURI ACIDULATE','apple.jpg',876)
/

INSERT INTO PRODUSE_PROJ VALUES('FANTA 1,5', 609, 3, 3365458974,'SUCURI ACIDULATE','berry1.jpg',5487)
/

INSERT INTO PRODUSE_PROJ VALUES('SPRITE', 610, 5, 3365458974,'SUCURI ACIDULATE','apple.jpg',132)
/

INSERT INTO PRODUSE_PROJ VALUES('SPRITE 1,5', 611, 3, 3365458974,'SUCURI ACIDULATE','orange.jpg',456)
/

INSERT INTO PRODUSE_PROJ VALUES('SMOOTHIE CAPSUNI', 612, 5, 12345678922,'SMOOTHIES','apple.jpg',231)
/

INSERT INTO PRODUSE_PROJ VALUES('SUC DE PRUNE', 613, 5, 12345678922,'SUCURI ACIDULATE','apple_banana.jpg',321)
/

INSERT INTO PRODUSE_PROJ VALUES('FRESH PORTOCALE', 614, 10, 12345678922,'SUCURI NATURALE','apple.jpg',321)
/

INSERT INTO PRODUSE_PROJ VALUES('CIUC RADDLER', 615, 4, 12345678922,'SUCURI ACIDULATE','cherry.jpg',533)
/

INSERT INTO PRODUSE_PROJ VALUES('FRESH GRAPEFRUIT', 616, 7, 12345678922,'SUCURI NATURALE','apple.jpg',346)
/

INSERT INTO PRODUSE_PROJ VALUES('MIRINDA', 617, 12, 10123567922,'SUCURI ACIDULATE','orange.jpg',3457)
/

INSERT INTO PRODUSE_PROJ VALUES('CAPY', 618, 8, 10123567922,'SUCURI NATURALE','apple.jpg',457)
/

INSERT INTO PRODUSE_PROJ VALUES('GIUSTO', 619, 9, 10123567922, 'SUCURI NATURALE','apple1.jpg',436)
/

INSERT INTO PRODUSE_PROJ VALUES('SCHWEPPS', 620, 12, 10123567922,'SUCURI ACIDULATE','apple.jpg',321)
/

INSERT INTO PRODUSE_PROJ VALUES('SCHWEPPS MANDARIN', 621, 0.5, 10123567922,'SUCURI ACIDULATE','SMITH.jpg',14)
/

-- procedura populare FACTURI

CREATE OR REPLACE PROCEDURE populare_facturi IS
 v_user int;
 v_cnp_user number;
 v_suma number;
 v_data date;

BEGIN
 for i in 1 .. 600
  loop
      v_user:=DBMS_RANDOM.value(1,5);
   IF v_user = 1 THEN
   v_cnp_user:=2887766554433;
      END IF;
   IF v_user = 2 THEN
    v_cnp_user:=2097766554433;
   END IF;
   IF v_user= 3 THEN
    v_cnp_user:=2881236554433;
   END IF;
   IF v_user= 4 THEN
    v_cnp_user:=1347766554433;
   END IF;
   IF v_user= 5  THEN
    v_cnp_user:=1117766554433;
    END IF;
    v_suma:=DBMS_RANDOM.value(5, 2000);
    SELECT TO_DATE ( TRUNC (DBMS_RANDOM.VALUE (2451545, 5373484)), 'J') INTO v_data FROM DUAL;
        INSERT INTO FACTURI values(i, v_cnp_user, v_suma, v_data);
        end loop;
END populare_facturi;
.
/

BEGIN
    populare_facturi;
END;
.
/

-- procedura populare populare_produs_factura

CREATE OR REPLACE PROCEDURE populare_produs_factura IS
v_nrFactura number;
v_produs number;
BEGIN
    for i in 1 .. 500000
        loop

        INSERT INTO PRODUSE_FACTURA_JUICY values(DBMS_RANDOM.value(601,621),DBMS_RANDOM.value(1,600), DBMS_RANDOM.value(1, 10));
        end loop;
END populare_produs_factura;
.
/

BEGIN
    populare_produs_factura;
END;
.
/